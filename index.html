<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ì¬í˜¸ì˜ íšŒì›ê°€ì… / ë¡œê·¸ì¸</title>

  <!-- Google Fonts: Roboto -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    rel="stylesheet"
  />

  <style>
    /* =========================
       ê³µí†µ í°íŠ¸
       ========================= */
    * {
      box-sizing: border-box;
      font-family: "Roboto", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    /* =========================
       ì˜ìƒ ë°°ê²½ + ì „ì²´ ë ˆì´ì•„ì›ƒ
       ========================= */
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      color: #202124;
      position: relative;
      overflow: hidden;
    }

    /* ì›€ì§ì´ëŠ” ì˜ìƒ ë°°ê²½ */
    .video-bg {
      position: fixed;
      inset: 0;
      z-index: -2;
      overflow: hidden;
    }

    .video-bg video {
      min-width: 100%;
      min-height: 100%;
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(0.45) blur(1px);
      transform: scale(1.03);
    }

    /* ì‚´ì§ ì–´ë‘ìš´ ì˜¤ë²„ë ˆì´ (í…ìŠ¤íŠ¸ ê°€ë…ì„± â†‘) */
    .video-overlay {
      position: fixed;
      inset: 0;
      background: radial-gradient(circle at top, rgba(0,0,0,0.4), rgba(0,0,0,0.65));
      z-index: -1;
    }

    /* =========================
       ë©”ì¸ ì»¨í…Œì´ë„ˆ (ì¹´ë“œ ë ˆì´ì•„ì›ƒ)
       ========================= */
    .auth-wrapper {
      width: 100%;
      max-width: 960px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      box-shadow:
        0 10px 30px rgba(0, 0, 0, 0.35),
        0 1px 3px rgba(60, 64, 67, 0.25);
      border: 1px solid rgba(218, 220, 224, 0.9);
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      overflow: hidden;
      backdrop-filter: blur(14px);
      transition: transform 0.25s ease, box-shadow 0.25s ease;
    }

    .auth-wrapper:hover {
      transform: translateY(-2px);
      box-shadow:
        0 14px 40px rgba(0, 0, 0, 0.45),
        0 1px 3px rgba(60, 64, 67, 0.25);
    }

    /* =========================
       ì™¼ìª½ ì¸íŠ¸ë¡œ ì˜ì—­
       ========================= */
    .auth-intro {
      padding: 32px 32px 28px;
      border-right: 1px solid #e0e0e0;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      background: linear-gradient(135deg, rgba(232, 240, 254, 0.96) 0,
                                         rgba(255, 255, 255, 0.96) 40%,
                                         rgba(241, 243, 244, 0.96) 100%);
    }

    .logo-row {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 12px;
    }

    .logo-mark {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .logo-circle {
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 2px solid #dadce0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 18px;
      color: #1a73e8;
      background: #ffffff;
      box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3);
    }

    .logo-dots {
      display: flex;
      gap: 3px;
    }

    .logo-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
    }

    .logo-dot.blue   { background: #1a73e8; }
    .logo-dot.red    { background: #ea4335; }
    .logo-dot.yellow { background: #fbbc04; }
    .logo-dot.green  { background: #34a853; }

    .logo-text {
      font-size: 12px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: #5f6368;
    }

    .auth-intro-top h1 {
      margin: 6px 0 8px;
      font-size: 24px;
      font-weight: 500;
      color: #202124;
    }

    .auth-intro-top p {
      margin: 2px 0;
      font-size: 13px;
      color: #5f6368;
    }

    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 12px;
      border-radius: 999px;
      background: #e8f0fe;
      color: #1967d2;
      font-size: 11px;
      margin-top: 12px;
      box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3);
    }

    .auth-intro-bottom {
      margin-top: 30px;
      font-size: 12px;
      color: #5f6368;
      line-height: 1.5;
    }

    .auth-intro-bottom strong {
      color: #202124;
    }

    /* =========================
       ì˜¤ë¥¸ìª½ í¼ ì˜ì—­
       ========================= */
    .auth-main {
      padding: 24px 28px 20px;
      display: flex;
      flex-direction: column;
      background: rgba(255, 255, 255, 0.98);
    }

    /* íƒ­ (ë¡œê·¸ì¸ / íšŒì›ê°€ì…) */
    .auth-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
      background: #f1f3f4;
      padding: 3px;
      border-radius: 999px;
      border: 1px solid #dadce0;
    }

    .auth-tab {
      flex: 1;
      text-align: center;
      padding: 7px 0;
      border-radius: 999px;
      font-size: 13px;
      cursor: pointer;
      color: #5f6368;
      border: none;
      background: transparent;
      transition:
        background 0.2s,
        color 0.2s,
        transform 0.1s,
        box-shadow 0.15s;
      user-select: none;
    }

    .auth-tab.active {
      background: #ffffff;
      color: #1a73e8;
      font-weight: 500;
      box-shadow: 0 1px 2px rgba(60, 64, 67, 0.25);
      transform: translateY(-0.5px);
    }

    .auth-tab:not(.active):hover {
      background: #e8eaed;
    }

    .auth-tab:active {
      transform: scale(0.97) translateY(0.5px);
      box-shadow: 0 0 0 rgba(0,0,0,0);
    }

    form {
      display: none;
      flex-direction: column;
      gap: 10px;
      flex: 1;
    }

    form.active {
      display: flex;
    }

    .form-header {
      margin: 4px 0 10px;
    }

    .form-header h2 {
      margin: 0;
      font-size: 22px;
      font-weight: 500;
      color: #202124;
    }

    .form-header p {
      margin: 4px 0 0;
      font-size: 12px;
      color: #5f6368;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 4px;
      position: relative;
    }

    .field-label {
      font-size: 12px;
      color: #5f6368;
    }

    .input-wrapper {
      position: relative;
    }

    input[type="email"],
    input[type="password"],
    input[type="text"] {
      width: 100%;
      padding: 10px 12px;
      border-radius: 4px;
      border: 1px solid #dadce0;
      background: #ffffff;
      color: #202124;
      font-size: 14px;
      outline: none;
      transition: border-color 0.18s, box-shadow 0.18s, background 0.18s, transform 0.08s;
    }

    input::placeholder {
      color: #9aa0a6;
    }

    input:focus {
      border-color: #1a73e8;
      box-shadow: 0 0 0 1px #1a73e8;
      background: #ffffff;
      transform: translateY(-0.5px);
    }

    .toggle-password {
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      border: none;
      background: transparent;
      color: #5f6368;
      cursor: pointer;
      font-size: 14px;
      padding: 0;
      transition: transform 0.08s, color 0.15s;
    }

    .toggle-password:hover {
      color: #202124;
      transform: translateY(-50%) scale(1.1);
    }

    .toggle-password:active {
      transform: translateY(-50%) scale(0.95);
    }

    .error-text {
      font-size: 11px;
      color: #d93025;
      min-height: 14px;
    }

    .hint-text {
      font-size: 11px;
      color: #5f6368;
    }

    .success-text {
      font-size: 11px;
      color: #188038;
      min-height: 14px;
    }

    .auth-actions {
      margin-top: 10px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    /* ë²„íŠ¼ ëˆŒë €ì„ ë•Œ ì§„ë™ ëŠë‚Œ */
    @keyframes pulse-press {
      0%   { transform: translateY(0) scale(1); }
      50%  { transform: translateY(1px) scale(0.97); }
      100% { transform: translateY(0) scale(1); }
    }

    .btn-main {
      width: 100%;
      border: none;
      border-radius: 8px;
      padding: 10px 16px;
      font-size: 14px;
      font-weight: 500;
      cursor: pointer;
      background: #1a73e8;
      color: #ffffff;
      transition:
        background 0.15s,
        box-shadow 0.15s,
        transform 0.08s;
      box-shadow: 0 2px 4px rgba(60, 64, 67, 0.35);
      user-select: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }

    .btn-main:hover {
      background: #185abc;
      box-shadow: 0 3px 6px rgba(60, 64, 67, 0.45);
      transform: translateY(-1px);
    }

    .btn-main:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.3);
    }

    .btn-main.pressed {
      animation: pulse-press 0.16s ease-out;
    }

    /* ë¡œë”© ìŠ¤í”¼ë„ˆ */
    .btn-main .spinner {
      width: 14px;
      height: 14px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.5);
      border-top-color: #ffffff;
      animation: spin 0.8s linear infinite;
      display: none;
    }

    .btn-main.loading .spinner {
      display: inline-block;
    }

    .btn-main.loading .btn-label {
      opacity: 0.7;
    }

    .btn-main.loading {
      cursor: default;
      background: #185abc;
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.35);
      transform: none;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .btn-main[disabled] {
      opacity: 0.6;
      cursor: default;
      box-shadow: none;
      transform: none;
    }

    .auth-options {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 12px;
      margin-top: 2px;
    }

    .auth-options label {
      display: flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      color: #5f6368;
      user-select: none;
    }

    .auth-options a {
      color: #1a73e8;
      text-decoration: none;
      font-size: 12px;
      transition: color 0.15s, transform 0.08s;
    }

    .auth-options a:hover {
      text-decoration: underline;
      color: #174ea6;
      transform: translateY(-0.5px);
    }

    .auth-options a:active {
      transform: translateY(0.5px);
    }

    .social-row {
      margin-top: 4px;
      display: flex;
      gap: 8px;
    }

    .btn-social {
      flex: 1;
      border-radius: 8px;
      border: 1px solid #dadce0;
      background: #ffffff;
      color: #3c4043;
      font-size: 12px;
      padding: 8px 10px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      transition:
        background 0.15s,
        box-shadow 0.15s,
        transform 0.08s;
      user-select: none;
    }

    .btn-social:hover {
      background: #f8f9fa;
      box-shadow: 0 2px 4px rgba(60, 64, 67, 0.35);
      transform: translateY(-1px);
    }

    .btn-social:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 1px 2px rgba(60, 64, 67, 0.25);
    }

    .small-footer {
      margin-top: auto;
      font-size: 11px;
      color: #80868b;
      text-align: right;
    }

    /* ì´ë©”ì¼ ì¸ì¦ UI */
    .verify-row {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .verify-row .btn-sub {
      border-radius: 6px;
      border: 1px solid #dadce0;
      padding: 8px 10px;
      font-size: 12px;
      cursor: pointer;
      background: #f8f9fa;
      color: #1a73e8;
      white-space: nowrap;
      transition:
        background 0.15s,
        box-shadow 0.15s,
        transform 0.08s;
      user-select: none;
    }

    .verify-row .btn-sub:hover {
      background: #e8f0fe;
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.35);
      transform: translateY(-1px);
    }

    .verify-row .btn-sub:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 1px 2px rgba(60, 64, 67, 0.25);
    }

    .verify-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 11px;
      color: #5f6368;
      min-height: 16px;
      gap: 8px;
      flex-wrap: wrap;
    }

    .verify-timer {
      color: #ea8600;
    }

    /* ë¹„ë°€ë²ˆí˜¸ ê°•ë„ í‘œì‹œ */
    .password-strength {
      display: flex;
      flex-direction: column;
      gap: 4px;
      font-size: 11px;
    }

    .strength-bar-wrapper {
      width: 100%;
      height: 4px;
      border-radius: 999px;
      background: #e0e0e0;
      overflow: hidden;
    }

    .strength-bar {
      height: 100%;
      width: 0%;
      border-radius: 999px;
      transition: width 0.2s, background 0.2s;
    }

    /* ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë°•ìŠ¤ */
    .reset-panel {
      margin-top: 8px;
      padding: 10px;
      border-radius: 8px;
      background: #f8f9fa;
      border: 1px solid #dadce0;
      display: none;
      flex-direction: column;
      gap: 6px;
    }

    .reset-panel.active {
      display: flex;
    }

    .reset-panel .btn-sub {
      align-self: flex-end;
      border-radius: 6px;
      border: 1px solid #dadce0;
      padding: 7px 10px;
      font-size: 12px;
      cursor: pointer;
      background: #e8f0fe;
      color: #1a73e8;
      white-space: nowrap;
      transition:
        background 0.15s,
        box-shadow 0.15s,
        transform 0.08s;
      user-select: none;
    }

    .reset-panel .btn-sub:hover {
      background: #d2e3fc;
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.35);
      transform: translateY(-1px);
    }

    .reset-panel .btn-sub:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 1px 2px rgba(60, 64, 67, 0.25);
    }

    /* =========================
       í”„ë¡œí•„ í™”ë©´
       ========================= */
    .profile-wrapper {
      width: 100%;
      max-width: 700px;
      background: rgba(255, 255, 255, 0.96);
      border-radius: 18px;
      border: 1px solid rgba(218, 220, 224, 0.9);
      box-shadow:
        0 10px 30px rgba(0, 0, 0, 0.35),
        0 1px 3px rgba(60, 64, 67, 0.25);
      padding: 20px 24px 18px;
      backdrop-filter: blur(12px);
      display: none; /* ê¸°ë³¸ì€ ìˆ¨ê¹€, ë¡œê·¸ì¸ í›„ ë³´ì—¬ì¤Œ */
      flex-direction: column;
      gap: 16px;
    }

    .profile-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }

    .profile-header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .profile-avatar {
      width: 54px;
      height: 54px;
      border-radius: 50%;
      background: #e8f0fe;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #1a73e8;
      font-size: 24px;
      font-weight: 600;
      border: 2px solid #dadce0;
    }

    .profile-title-block h2 {
      margin: 0;
      font-size: 20px;
      font-weight: 500;
      color: #202124;
    }

    .profile-title-block span {
      font-size: 12px;
      color: #5f6368;
    }

    .profile-badge {
      padding: 6px 10px;
      border-radius: 999px;
      background: #e8f0fe;
      color: #1a73e8;
      font-size: 11px;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .profile-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 6px;
    }

    .profile-row-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }

    .profile-field {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .profile-field label {
      font-size: 12px;
      color: #5f6368;
    }

    .profile-field input,
    .profile-field textarea {
      width: 100%;
      padding: 9px 11px;
      border-radius: 6px;
      border: 1px solid #dadce0;
      background: #ffffff;
      color: #202124;
      font-size: 13px;
      outline: none;
      transition: border-color 0.15s, box-shadow 0.15s;
    }

    .profile-field input[readonly] {
      background: #f1f3f4;
      color: #5f6368;
    }

    .profile-field textarea {
      resize: vertical;
      min-height: 70px;
      max-height: 150px;
    }

    .profile-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 10px;
      gap: 10px;
      flex-wrap: wrap;
    }

    .btn-profile {
      border-radius: 999px;
      border: 1px solid #dadce0;
      padding: 8px 14px;
      font-size: 12px;
      cursor: pointer;
      background: #f8f9fa;
      color: #3c4043;
      display: inline-flex;
      align-items: center;
      gap: 4px;
      transition: background 0.15s, box-shadow 0.15s, transform 0.08s;
      user-select: none;
    }

    .btn-profile:hover {
      background: #e8eaed;
      box-shadow: 0 1px 3px rgba(60,64,67,0.3);
      transform: translateY(-1px);
    }

    .btn-profile:active {
      transform: translateY(1px) scale(0.98);
      box-shadow: 0 0 0 rgba(0,0,0,0);
    }

    .btn-profile.main {
      background: #1a73e8;
      color: #ffffff;
      border-color: #1a73e8;
      box-shadow: 0 1px 3px rgba(26,115,232,0.5);
    }

    .btn-profile.main:hover {
      background: #185abc;
      box-shadow: 0 2px 5px rgba(26,115,232,0.6);
    }

    .profile-status {
      font-size: 11px;
      color: #188038;
      min-height: 14px;
    }

    .profile-subtext {
      font-size: 11px;
      color: #80868b;
      text-align: right;
      margin-top: 4px;
    }

    @media (max-width: 720px) {
      .auth-wrapper {
        grid-template-columns: 1fr;
      }

      .auth-intro {
        border-right: none;
        border-bottom: 1px solid #e0e0e0;
        padding-bottom: 18px;
      }

      body {
        padding: 14px;
      }

      .profile-row-2 {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 480px) {
      .auth-intro-top h1 {
        font-size: 20px;
      }
      .auth-wrapper {
        border-radius: 12px;
      }
      .profile-wrapper {
        border-radius: 12px;
      }
    }
  </style>
</head>
<body>
  <!-- ì›€ì§ì´ëŠ” ë°°ê²½ ì˜ìƒ -->
  <div class="video-bg">
    <video src="https://static.videezy.com/system/resources/previews/000/043/122/original/Luxury_Background_Video.mp4"
           autoplay
           muted
           loop
           playsinline>
    </video>
  </div>
  <div class="video-overlay"></div>

  <!-- ë¡œê·¸ì¸ / íšŒì›ê°€ì… ì¹´ë“œ -->
  <div class="auth-wrapper">
    <!-- ì¢Œì¸¡ ì¸íŠ¸ë¡œ -->
    <aside class="auth-intro">
      <div class="auth-intro-top">
        <div class="logo-row">
          <div class="logo-mark">
            <div class="logo-circle">J</div>
            <div class="logo-dots">
              <span class="logo-dot blue"></span>
              <span class="logo-dot red"></span>
              <span class="logo-dot yellow"></span>
              <span class="logo-dot green"></span>
            </div>
          </div>
          <div class="logo-text">JAEHO SPACE</div>
        </div>

        <h1>ì¬í˜¸ì˜ ë©”ëª¨ ì„œë¹„ìŠ¤</h1>
        <p>í•˜ë‚˜ì˜ ê³„ì •ìœ¼ë¡œ ë©”ëª¨, ê³„íš, ìš´ë™ ê¸°ë¡ì„ í•¨ê»˜ ê´€ë¦¬í•´ ë³´ì„¸ìš”.</p>
        <p>ì—¬ëŸ¬ ê¸°ê¸°ì—ì„œ ë™ì¼í•œ ê³„ì •ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê°€ì •í•œ í™”ë©´ì…ë‹ˆë‹¤.</p>

        <div class="pill">
          ğŸ”’ ë³´ì•ˆ ìš°ì„ 
          <span>ì´ë©”ì¼ ì¸ì¦ê³¼ ì•ˆì „í•œ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”.</span>
        </div>
      </div>

      <div class="auth-intro-bottom">
        <p><strong>ì•ˆë‚´.</strong> ì‹¤ì œ ì´ë©”ì¼ ë°œì†¡, ë¡œê·¸ì¸ ìœ ì§€, ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •ì€
          ì„œë²„(Firebase, Node.js + ë©”ì¼ ì„œë¹„ìŠ¤ ë“±)ì™€ ì—°ë™í•´ì•¼ ë™ì‘í•©ë‹ˆë‹¤.</p>
        <p>ì´ í™”ë©´ì€ <strong>â€œêµ¬ê¸€ ìŠ¤íƒ€ì¼ UI + ì¸ì¦ íë¦„ ì—°ìŠµìš©â€</strong> ì˜ˆì‹œì…ë‹ˆë‹¤.<br>
           ë‚˜ì¤‘ì— ë°±ì—”ë“œë§Œ ë¶™ì´ë©´ ë°”ë¡œ ì‹¤ì „ ì„œë¹„ìŠ¤ë¡œ í™•ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      </div>
    </aside>

    <!-- ìš°ì¸¡ í¼ -->
    <main class="auth-main">
      <!-- íƒ­ -->
      <div class="auth-tabs">
        <button class="auth-tab active" data-target="loginForm">ë¡œê·¸ì¸</button>
        <button class="auth-tab" data-target="signupForm">íšŒì›ê°€ì…</button>
      </div>

      <!-- ë¡œê·¸ì¸ í¼ -->
      <form id="loginForm" class="active" novalidate>
        <div class="form-header">
          <h2>ë¡œê·¸ì¸</h2>
          <p>ì¬í˜¸ì˜ ë©”ëª¨ ì„œë¹„ìŠ¤ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”.</p>
        </div>

        <div class="field">
          <span class="field-label">ì´ë©”ì¼</span>
          <div class="input-wrapper">
            <input type="email" id="loginEmail" placeholder="example@naver.com" required />
          </div>
          <div class="error-text" id="loginEmailError"></div>
        </div>

        <div class="field">
          <span class="field-label">ë¹„ë°€ë²ˆí˜¸</span>
          <div class="input-wrapper">
            <input type="password" id="loginPassword" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”" minlength="6" required />
            <button type="button" class="toggle-password" data-target="loginPassword">ğŸ‘</button>
          </div>
          <div class="error-text" id="loginPasswordError"></div>
        </div>

        <div class="auth-options">
          <label>
            <input type="checkbox" id="rememberMe" />
            <span>ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€</span>
          </label>
          <a href="javascript:void(0)" id="openReset">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
        </div>

        <!-- ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • íŒ¨ë„ -->
        <div class="reset-panel" id="resetPanel">
          <div class="hint-text">ê°€ì…í•œ ì´ë©”ì¼ë¡œ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ë¥¼ ë³´ë‚´ëŠ” íë¦„ì…ë‹ˆë‹¤. (ë°±ì—”ë“œ ì—°ë™ í•„ìš”)</div>
          <div class="field">
            <span class="field-label">ì´ë©”ì¼</span>
            <div class="input-wrapper">
              <input type="email" id="resetEmail" placeholder="example@naver.com" />
            </div>
            <div class="error-text" id="resetEmailError"></div>
          </div>
          <button type="button" class="btn-sub" id="sendResetBtn">ì¬ì„¤ì • ë§í¬ ë³´ë‚´ê¸°</button>
          <div class="hint-text" id="resetStatusText"></div>
        </div>

        <div class="auth-actions">
          <button type="submit" class="btn-main" id="loginSubmitBtn">
            <span class="btn-label">ë¡œê·¸ì¸</span>
            <span class="spinner"></span>
          </button>
          <div class="hint-text">ì•„ì§ ê³„ì •ì´ ì—†ë‹¤ë©´ ìœ„ì˜ <strong>íšŒì›ê°€ì…</strong> íƒ­ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</div>

          <div class="hint-text" style="margin-top:4px;">ë˜ëŠ” ì†Œì…œ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸</div>
          <div class="social-row">
            <button type="button" class="btn-social">ğŸ”µ Google</button>
            <button type="button" class="btn-social">ğŸŸ¢ Kakao</button>
          </div>
        </div>

        <div class="small-footer">â€» ì‹¤ì œ ë¡œê·¸ì¸/ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •ì€ ì„œë²„ ì—°ë™ í›„ ë™ì‘í•©ë‹ˆë‹¤.</div>
      </form>

      <!-- íšŒì›ê°€ì… í¼ -->
      <form id="signupForm" novalidate>
        <div class="form-header">
          <h2>ê³„ì • ë§Œë“¤ê¸°</h2>
          <p>ì¬í˜¸ì˜ ë©”ëª¨ ì„œë¹„ìŠ¤ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ê³„ì •ì„ ë§Œë“¤ì–´ ì£¼ì„¸ìš”.</p>
        </div>

        <div class="field">
          <span class="field-label">ì´ë¦„ / ë‹‰ë„¤ì„</span>
          <div class="input-wrapper">
            <input type="text" id="signupName" placeholder="ì¬í˜¸ ë˜ëŠ” ë‹‰ë„¤ì„" required />
          </div>
          <div class="error-text" id="signupNameError"></div>
        </div>

        <!-- ì´ë©”ì¼ + ì¸ì¦ì½”ë“œ ë°œì†¡ -->
        <div class="field">
          <span class="field-label">ì´ë©”ì¼</span>
          <div class="verify-row">
            <div class="input-wrapper" style="flex:1;">
              <input type="email" id="signupEmail" placeholder="example@gmail.com" required />
            </div>
            <button type="button" class="btn-sub" id="requestEmailCodeBtn">ì¸ì¦ì½”ë“œ ë°œì†¡</button>
          </div>
          <div class="error-text" id="signupEmailError"></div>
        </div>

        <!-- ì´ë©”ì¼ ì¸ì¦ì½”ë“œ ì…ë ¥ -->
        <div class="field">
          <span class="field-label">ì´ë©”ì¼ ì¸ì¦ì½”ë“œ</span>
          <div class="verify-row">
            <div class="input-wrapper" style="flex:1;">
              <input type="text" id="signupEmailCode" placeholder="6ìë¦¬ ì¸ì¦ì½”ë“œ" />
            </div>
            <button type="button" class="btn-sub" id="verifyEmailCodeBtn">ì¸ì¦ í™•ì¸</button>
          </div>
          <div class="verify-meta">
            <span id="emailStatusText" class="hint-text">ì´ë©”ì¼ì„ ì…ë ¥í•˜ê³  ì¸ì¦ì½”ë“œë¥¼ ë°œì†¡í•´ì£¼ì„¸ìš”.</span>
            <span id="emailTimer" class="verify-timer"></span>
          </div>
          <div class="error-text" id="signupEmailCodeError"></div>
        </div>

        <div class="field">
          <span class="field-label">ë¹„ë°€ë²ˆí˜¸</span>
          <div class="input-wrapper">
            <input type="password" id="signupPassword" placeholder="ìµœì†Œ 6ì ì´ìƒ" minlength="6" required />
            <button type="button" class="toggle-password" data-target="signupPassword">ğŸ‘</button>
          </div>
          <div class="error-text" id="signupPasswordError"></div>
          <!-- ë¹„ë°€ë²ˆí˜¸ ê°•ë„ í‘œì‹œ -->
          <div class="password-strength">
            <div class="strength-bar-wrapper">
              <div class="strength-bar" id="strengthBar"></div>
            </div>
            <span id="strengthText" class="hint-text">ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ê°•ë„ê°€ í‘œì‹œë©ë‹ˆë‹¤.</span>
          </div>
        </div>

        <div class="field">
          <span class="field-label">ë¹„ë°€ë²ˆí˜¸ í™•ì¸</span>
          <div class="input-wrapper">
            <input type="password" id="signupPasswordConfirm" placeholder="ë‹¤ì‹œ í•œ ë²ˆ ì…ë ¥" minlength="6" required />
            <button type="button" class="toggle-password" data-target="signupPasswordConfirm">ğŸ‘</button>
          </div>
          <div class="error-text" id="signupPasswordConfirmError"></div>
        </div>

        <div class="auth-actions">
          <button type="submit" class="btn-main" id="signupSubmitBtn">
            <span class="btn-label">ê³„ì • ë§Œë“¤ê¸°</span>
            <span class="spinner"></span>
          </button>
          <div class="hint-text">
            ê³„ì†í•˜ë©´ <a href="javascript:void(0)">ì´ìš©ì•½ê´€</a> ë° <a href="javascript:void(0)">ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</a>ì— ë™ì˜í•˜ê²Œ ë©ë‹ˆë‹¤.
          </div>
        </div>

        <div class="small-footer">â€» ì‹¤ì œ ì´ë©”ì¼ ì¸ì¦/íšŒì›ê°€ì… ì €ì¥ë„ ì„œë²„ ì—°ë™ í›„ êµ¬í˜„ë©ë‹ˆë‹¤.</div>
      </form>
    </main>
  </div>

  <!-- ë¡œê·¸ì¸ í›„ ë³´ì´ëŠ” "ë‚´ í”„ë¡œí•„" ì¹´ë“œ -->
  <div class="profile-wrapper" id="profileWrapper">
    <div class="profile-header">
      <div class="profile-header-left">
        <div class="profile-avatar" id="profileAvatar">J</div>
        <div class="profile-title-block">
          <h2 id="profileTitle">ì¬í˜¸ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤ ğŸ‘‹</h2>
          <span id="profileSubtitle">ë‚´ ì •ë³´ë¥¼ ìˆ˜ì •í•˜ê³ , ë©”ëª¨ ì„œë¹„ìŠ¤ì— ì‚¬ìš©í•  ê¸°ë³¸ í”„ë¡œí•„ì„ ì„¤ì •í•˜ì„¸ìš”.</span>
        </div>
      </div>
      <div class="profile-badge">
        ğŸ‘¤ ë‚´ í”„ë¡œí•„
      </div>
    </div>

    <div class="profile-form">
      <div class="profile-row-2">
        <div class="profile-field">
          <label for="profileName">ì´ë¦„</label>
          <input type="text" id="profileName" placeholder="ì‹¤ì œ ì´ë¦„" />
        </div>
        <div class="profile-field">
          <label for="profileNickname">ë‹‰ë„¤ì„</label>
          <input type="text" id="profileNickname" placeholder="ì˜ˆ: ì¹˜ë£Œí•˜ëŠ” ê°œë°œì" />
        </div>
      </div>

      <div class="profile-row-2">
        <div class="profile-field">
          <label for="profileEmail">ì´ë©”ì¼ (ê³„ì •)</label>
          <input type="email" id="profileEmail" readonly />
        </div>
        <div class="profile-field">
          <label for="profileGoal">ì˜¬í•´ ëª©í‘œ</label>
          <input type="text" id="profileGoal" placeholder="ì˜ˆ: AI ìì„¸ë¶„ì„ ìˆ˜ì—… ì™„ì„±í•˜ê¸°" />
        </div>
      </div>

      <div class="profile-field">
        <label for="profileAbout">í•œ ì¤„ ì†Œê°œ / ìê¸°ì†Œê°œ</label>
        <textarea
          id="profileAbout"
          placeholder="ì˜ˆ: ë¬¼ë¦¬ì¹˜ë£Œì™€ AIë¥¼ ê²°í•©í•œ ë””ì§€í„¸ í—¬ìŠ¤ì¼€ì–´ë¥¼ ì—°êµ¬í•˜ê³  ìˆìŠµë‹ˆë‹¤."
        ></textarea>
      </div>
    </div>

    <div class="profile-footer">
      <div class="profile-status" id="profileStatus"></div>
      <div style="display:flex; gap:8px; align-items:center;">
        <button class="btn-profile" id="profileBackToAuthBtn">â† ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ</button>
        <button class="btn-profile" id="profileLogoutBtn">ë¡œê·¸ì•„ì›ƒ</button>
        <button class="btn-profile main" id="profileSaveBtn">ğŸ’¾ í”„ë¡œí•„ ì €ì¥</button>
      </div>
    </div>

    <div class="profile-subtext">
      â€» ë°ì´í„°ëŠ” ë¸Œë¼ìš°ì € <strong>localStorage</strong>ì—ë§Œ ì €ì¥ë©ë‹ˆë‹¤. ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì„œë²„/DBì— ì €ì¥í•˜ê²Œ ë©ë‹ˆë‹¤.
    </div>
  </div>

  <script>
    // ==========================
    // ê³µí†µ í‚¤ (localStorage)
    // ==========================
    const CURRENT_USER_KEY = "jaeho_current_user";
    const PROFILE_PREFIX = "jaeho_profile_";

    // ==========================
    // íƒ­ ì „í™˜
    // ==========================
    const tabs = document.querySelectorAll(".auth-tab");
    const forms = {
      loginForm: document.getElementById("loginForm"),
      signupForm: document.getElementById("signupForm"),
    };

    tabs.forEach((tab) => {
      tab.addEventListener("click", () => {
        const targetId = tab.dataset.target;
        tabs.forEach((t) => t.classList.remove("active"));
        tab.classList.add("active");
        Object.values(forms).forEach((f) => f.classList.remove("active"));
        forms[targetId].classList.add("active");
        document.querySelectorAll(".error-text").forEach((el) => (el.textContent = ""));
      });
    });

    // ==========================
    // ë¹„ë°€ë²ˆí˜¸ ë³´ê¸°/ìˆ¨ê¸°ê¸°
    // ==========================
    document.querySelectorAll(".toggle-password").forEach((btn) => {
      btn.addEventListener("click", () => {
        const targetId = btn.dataset.target;
        const input = document.getElementById(targetId);
        const type = input.type === "password" ? "text" : "password";
        input.type = type;
      });
    });

    // ==========================
    // ë²„íŠ¼ í´ë¦­ ì§„ë™(íí) íš¨ê³¼
    // ==========================
    function addPressAnimation(button) {
      button.classList.remove("pressed");
      void button.offsetWidth; // ë¦¬í”Œë¡œìš°ë¡œ ì• ë‹ˆë©”ì´ì…˜ ë¦¬ì…‹
      button.classList.add("pressed");
      setTimeout(() => {
        button.classList.remove("pressed");
      }, 180);
    }

    // ==========================
    // ì´ë©”ì¼ í˜•ì‹ ì²´í¬
    // ==========================
    function isValidEmail(email) {
      return /\S+@\S+\.\S+/.test(email);
    }

    // ==========================
    // ë¡œê·¸ì¸ + ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì •
    // ==========================
    const loginFormEl = document.getElementById("loginForm");
    const openReset = document.getElementById("openReset");
    const resetPanel = document.getElementById("resetPanel");
    const resetEmailInput = document.getElementById("resetEmail");
    const resetEmailError = document.getElementById("resetEmailError");
    const sendResetBtn = document.getElementById("sendResetBtn");
    const resetStatusText = document.getElementById("resetStatusText");
    const loginSubmitBtn = document.getElementById("loginSubmitBtn");

    openReset.addEventListener("click", () => {
      resetPanel.classList.toggle("active");
      resetEmailError.textContent = "";
      resetStatusText.textContent = "";
      resetEmailInput.value = "";
    });

    sendResetBtn.addEventListener("click", () => {
      const email = resetEmailInput.value.trim();
      resetEmailError.textContent = "";
      resetStatusText.textContent = "";

      if (!isValidEmail(email)) {
        resetEmailError.textContent = "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
        return;
      }
      resetStatusText.textContent = "í•´ë‹¹ ì´ë©”ì¼ë¡œ ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë§í¬ê°€ ë°œì†¡ë˜ì—ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. (ë°ëª¨)";
    });

    loginSubmitBtn.addEventListener("click", () => addPressAnimation(loginSubmitBtn));

    loginFormEl.addEventListener("submit", (e) => {
      e.preventDefault();

      const email = document.getElementById("loginEmail").value.trim();
      const password = document.getElementById("loginPassword").value.trim();
      const rememberMe = document.getElementById("rememberMe").checked;

      let valid = true;

      const emailError = document.getElementById("loginEmailError");
      const passwordError = document.getElementById("loginPasswordError");
      emailError.textContent = "";
      passwordError.textContent = "";

      if (!isValidEmail(email)) {
        emailError.textContent = "ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.";
        valid = false;
      }
      if (password.length < 6) {
        passwordError.textContent = "ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.";
        valid = false;
      }

      if (!valid) return;

      loginSubmitBtn.classList.add("loading");
      loginSubmitBtn.disabled = true;

      if (rememberMe) {
        console.log("ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ ê°€ì • (localStorage í† í°)");
      } else {
        console.log("ì„¸ì…˜ ë¡œê·¸ì¸ ê°€ì • (sessionStorage í† í°)");
      }

      // ë°ëª¨ìš©: 1ì´ˆ í›„ "ë¡œê·¸ì¸ ì„±ê³µ" ì²˜ë¦¬ + í”„ë¡œí•„ í™”ë©´ìœ¼ë¡œ ì „í™˜
      setTimeout(() => {
        loginSubmitBtn.classList.remove("loading");
        loginSubmitBtn.disabled = false;

        const nameFromEmail = email.split("@")[0] || "ì‚¬ìš©ì";
        saveCurrentUser({ email, name: nameFromEmail });
        showProfileView();
      }, 1000);
    });

    // ==========================
    // íšŒì›ê°€ì… + ì´ë©”ì¼ ì¸ì¦
    // ==========================
    const signupFormEl = document.getElementById("signupForm");
    const signupSubmitBtn = document.getElementById("signupSubmitBtn");

    const requestEmailCodeBtn = document.getElementById("requestEmailCodeBtn");
    const verifyEmailCodeBtn = document.getElementById("verifyEmailCodeBtn");

    const signupEmailInput = document.getElementById("signupEmail");
    const signupEmailError = document.getElementById("signupEmailError");
    const signupEmailCodeInput = document.getElementById("signupEmailCode");
    const signupEmailCodeError = document.getElementById("signupEmailCodeError");
    const emailStatusText = document.getElementById("emailStatusText");
    const emailTimerEl = document.getElementById("emailTimer");

    let generatedCode = null;
    let codeExpireAt = null;
    let timerInterval = null;
    let isEmailVerified = false;

    function generateCode() {
      return String(Math.floor(100000 + Math.random() * 900000));
    }

    function startTimer() {
      stopTimer();
      timerInterval = setInterval(() => {
        if (!codeExpireAt) {
          emailTimerEl.textContent = "";
          return;
        }
        const diff = codeExpireAt - Date.now();
        if (diff <= 0) {
          emailTimerEl.textContent = "";
          generatedCode = null;
          codeExpireAt = null;
          emailStatusText.textContent = "ì¸ì¦ ì‹œê°„ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ìš”ì²­í•´ì£¼ì„¸ìš”.";
          emailStatusText.className = "hint-text";
          stopTimer();
          return;
        }
        const totalSec = Math.floor(diff / 1000);
        const m = String(Math.floor(totalSec / 60)).padStart(2, "0");
        const s = String(totalSec % 60).padStart(2, "0");
        emailTimerEl.textContent = `ë‚¨ì€ ì‹œê°„ ${m}:${s}`;
      }, 500);
    }

    function stopTimer() {
      if (timerInterval) {
        clearInterval(timerInterval);
        timerInterval = null;
      }
    }

    requestEmailCodeBtn.addEventListener("click", () => {
      signupEmailError.textContent = "";
      signupEmailCodeError.textContent = "";
      emailStatusText.textContent = "";
      emailStatusText.className = "hint-text";
      emailTimerEl.textContent = "";

      const email = signupEmailInput.value.trim();
      if (!isValidEmail(email)) {
        signupEmailError.textContent = "ì˜¬ë°”ë¥¸ ì´ë©”ì¼ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
        return;
      }

      generatedCode = generateCode();
      codeExpireAt = Date.now() + 3 * 60 * 1000;
      isEmailVerified = false;
      startTimer();

      emailStatusText.textContent = "ì¸ì¦ì½”ë“œê°€ ì´ë©”ì¼ë¡œ ë°œì†¡ë˜ì—ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. (ë°ëª¨ìš©)";
      console.log("ê°œë°œìš© ì´ë©”ì¼ ì¸ì¦ì½”ë“œ:", generatedCode);
      alert("ì¸ì¦ì½”ë“œê°€ ì´ë©”ì¼ë¡œ ë°œì†¡ë˜ì—ˆë‹¤ê³  ê°€ì •í•©ë‹ˆë‹¤. (ì—°ìŠµìš© ì½”ë“œ: " + generatedCode + ")");
    });

    verifyEmailCodeBtn.addEventListener("click", () => {
      signupEmailCodeError.textContent = "";

      if (!generatedCode || !codeExpireAt) {
        signupEmailCodeError.textContent = "ë¨¼ì € ì¸ì¦ì½”ë“œë¥¼ ë°œì†¡í•´ì£¼ì„¸ìš”.";
        return;
      }
      if (Date.now() > codeExpireAt) {
        signupEmailCodeError.textContent = "ì¸ì¦ ì‹œê°„ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ìš”ì²­í•´ì£¼ì„¸ìš”.";
        return;
      }

      const inputCode = signupEmailCodeInput.value.trim();
      if (!inputCode) {
        signupEmailCodeError.textContent = "ì¸ì¦ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.";
        return;
      }
      if (inputCode !== generatedCode) {
        signupEmailCodeError.textContent = "ì¸ì¦ì½”ë“œê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
        return;
      }

      isEmailVerified = true;
      generatedCode = null;
      codeExpireAt = null;
      stopTimer();
      emailTimerEl.textContent = "";
      emailStatusText.textContent = "âœ… ì´ë©”ì¼ ì¸ì¦ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.";
      emailStatusText.className = "success-text";

      signupEmailInput.readOnly = true;
      signupEmailCodeInput.readOnly = true;
    });

    // ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ì²´í¬
    const signupPasswordInput = document.getElementById("signupPassword");
    const strengthBar = document.getElementById("strengthBar");
    const strengthText = document.getElementById("strengthText");

    function evaluatePasswordStrength(pw) {
      let score = 0;
      if (pw.length >= 6) score++;
      if (pw.length >= 10) score++;
      if (/[0-9]/.test(pw)) score++;
      if (/[!@#$%^&*(),.?":{}|<>]/.test(pw)) score++;
      if (/[A-Z]/.test(pw)) score++;

      if (!pw) {
        return { label: "ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´ ê°•ë„ê°€ í‘œì‹œë©ë‹ˆë‹¤.", width: "0%", color: "transparent" };
      } else if (score <= 1) {
        return { label: "ì•½í•¨ Â· ìˆ«ì/íŠ¹ìˆ˜ë¬¸ìë¥¼ ì„ì–´ë³´ì„¸ìš”.", width: "25%", color: "#d93025" };
      } else if (score <= 3) {
        return { label: "ë³´í†µ Â· ê¸¸ì´ë¥¼ 10ì ì´ìƒìœ¼ë¡œ ëŠ˜ë¦¬ë©´ ì¢‹ì•„ìš”.", width: "60%", color: "#f9ab00" };
      } else {
        return { label: "ê°•í•¨ Â· ì¢‹ì€ ë¹„ë°€ë²ˆí˜¸ì…ë‹ˆë‹¤!", width: "100%", color: "#188038" };
      }
    }

    signupPasswordInput.addEventListener("input", () => {
      const pw = signupPasswordInput.value;
      const result = evaluatePasswordStrength(pw);
      strengthBar.style.width = result.width;
      strengthBar.style.background = result.color;
      strengthText.textContent = result.label;
    });

    signupSubmitBtn.addEventListener("click", () => addPressAnimation(signupSubmitBtn));

    signupFormEl.addEventListener("submit", (e) => {
      e.preventDefault();

      const name = document.getElementById("signupName").value.trim();
      const email = signupEmailInput.value.trim();
      const password = signupPasswordInput.value.trim();
      const passwordConfirm = document.getElementById("signupPasswordConfirm").value.trim();

      let valid = true;

      const nameError = document.getElementById("signupNameError");
      const passwordError = document.getElementById("signupPasswordError");
      const passwordConfirmError = document.getElementById("signupPasswordConfirmError");

      [nameError, signupEmailError, passwordError, passwordConfirmError, signupEmailCodeError]
        .forEach(el => el.textContent = "");

      if (!name) {
        nameError.textContent = "ì´ë¦„ ë˜ëŠ” ë‹‰ë„¤ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.";
        valid = false;
      }
      if (!isValidEmail(email)) {
        signupEmailError.textContent = "ì´ë©”ì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.";
        valid = false;
      }
      if (!isEmailVerified) {
        signupEmailCodeError.textContent = "ì´ë©”ì¼ ì¸ì¦ì„ ì™„ë£Œí•´ì£¼ì„¸ìš”.";
        valid = false;
      }
      if (password.length < 6) {
        passwordError.textContent = "ë¹„ë°€ë²ˆí˜¸ëŠ” ìµœì†Œ 6ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.";
        valid = false;
      }
      if (password !== passwordConfirm) {
        passwordConfirmError.textContent = "ë¹„ë°€ë²ˆí˜¸ê°€ ì¼ì¹˜í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.";
        valid = false;
      }

      if (!valid) return;

      signupSubmitBtn.classList.add("loading");
      signupSubmitBtn.disabled = true;

      // ë°ëª¨ìš©: 1.2ì´ˆ í›„ íšŒì›ê°€ì… ì„±ê³µ ì²˜ë¦¬ + í”„ë¡œí•„ë¡œ ì§„ì…
      setTimeout(() => {
        signupSubmitBtn.classList.remove("loading");
        signupSubmitBtn.disabled = false;

        saveCurrentUser({ email, name });
        showProfileView();
      }, 1200);
    });

    // ==========================
    // í”„ë¡œí•„ í™”ë©´ ê´€ë ¨ ë¡œì§
    // ==========================
    const authWrapper = document.querySelector(".auth-wrapper");
    const profileWrapper = document.getElementById("profileWrapper");

    const profileAvatar = document.getElementById("profileAvatar");
    const profileTitle = document.getElementById("profileTitle");
    const profileNameInput = document.getElementById("profileName");
    const profileNicknameInput = document.getElementById("profileNickname");
    const profileEmailInput = document.getElementById("profileEmail");
    const profileGoalInput = document.getElementById("profileGoal");
    const profileAboutInput = document.getElementById("profileAbout");
    const profileStatus = document.getElementById("profileStatus");

    const profileSaveBtn = document.getElementById("profileSaveBtn");
    const profileLogoutBtn = document.getElementById("profileLogoutBtn");
    const profileBackToAuthBtn = document.getElementById("profileBackToAuthBtn");

    function getCurrentUser() {
      const raw = localStorage.getItem(CURRENT_USER_KEY);
      if (!raw) return null;
      try {
        return JSON.parse(raw);
      } catch {
        return null;
      }
    }

    function saveCurrentUser(user) {
      localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(user));
    }

    function getProfileKey(email) {
      return PROFILE_PREFIX + email;
    }

    function loadProfileFor(email) {
      const key = getProfileKey(email);
      const raw = localStorage.getItem(key);
      if (!raw) return null;
      try {
        return JSON.parse(raw);
      } catch {
        return null;
      }
    }

    function saveProfileFor(email, profile) {
      const key = getProfileKey(email);
      localStorage.setItem(key, JSON.stringify(profile));
    }

    function showAuthView() {
      authWrapper.style.display = "grid";
      profileWrapper.style.display = "none";
      profileStatus.textContent = "";
    }

    function showProfileView() {
      const user = getCurrentUser();
      if (!user) {
        showAuthView();
        return;
      }

      authWrapper.style.display = "none";
      profileWrapper.style.display = "flex";

      // ê¸°ë³¸ ê°’ ì„¸íŒ…
      profileEmailInput.value = user.email || "";
      const baseName = user.name || user.email?.split("@")[0] || "ì‚¬ìš©ì";
      profileNameInput.value = baseName;
      profileNicknameInput.value = baseName;
      profileAvatar.textContent = (baseName.trim()[0] || "U").toUpperCase();
      profileTitle.textContent = baseName + "ë‹˜, í™˜ì˜í•©ë‹ˆë‹¤ ğŸ‘‹";

      // ê¸°ì¡´ í”„ë¡œí•„ ë¡œë”©
      const existingProfile = loadProfileFor(user.email);
      if (existingProfile) {
        profileNameInput.value = existingProfile.name || baseName;
        profileNicknameInput.value = existingProfile.nickname || baseName;
        profileGoalInput.value = existingProfile.goal || "";
        profileAboutInput.value = existingProfile.about || "";
      } else {
        profileGoalInput.value = "";
        profileAboutInput.value =
          "ë¬¼ë¦¬ì¹˜ë£Œì™€ ë””ì§€í„¸ í—¬ìŠ¤ì¼€ì–´, ê·¸ë¦¬ê³  ì½”ë”©ì„ í•¨ê»˜ ì„±ì¥ì‹œí‚¤ëŠ” ì¤‘ì…ë‹ˆë‹¤.";
      }

      profileStatus.textContent = "";
    }

    profileSaveBtn.addEventListener("click", () => {
      const user = getCurrentUser();
      if (!user) {
        alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");
        showAuthView();
        return;
      }

      const profile = {
        name: profileNameInput.value.trim() || user.name || "",
        nickname: profileNicknameInput.value.trim() || "",
        email: user.email,
        goal: profileGoalInput.value.trim(),
        about: profileAboutInput.value.trim(),
        updatedAt: new Date().toISOString(),
      };

      saveProfileFor(user.email, profile);

      // ì´ë¦„/ë‹‰ë„¤ì„ì´ ë°”ë€Œë©´ current_userì—ë„ ë°˜ì˜
      if (profile.name) {
        saveCurrentUser({ ...user, name: profile.name });
      }

      profileStatus.textContent = "âœ… í”„ë¡œí•„ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. (ë¸Œë¼ìš°ì €ì—ë§Œ ì €ì¥)";
      setTimeout(() => {
        profileStatus.textContent = "";
      }, 2500);
    });

    profileLogoutBtn.addEventListener("click", () => {
      localStorage.removeItem(CURRENT_USER_KEY);
      showAuthView();
    });

    profileBackToAuthBtn.addEventListener("click", () => {
      showAuthView();
    });

    // í˜ì´ì§€ ë¡œë“œ ì‹œ, ì´ë¯¸ ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ìˆìœ¼ë©´ ë°”ë¡œ í”„ë¡œí•„ í™”ë©´ìœ¼ë¡œ
    window.addEventListener("load", () => {
      const user = getCurrentUser();
      if (user) {
        showProfileView();
      } else {
        showAuthView();
      }
    });
  </script>
</body>
</html>
